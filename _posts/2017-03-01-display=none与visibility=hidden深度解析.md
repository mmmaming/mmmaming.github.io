---
layout: default
title: display:none与visibility:hidden解析
---

# {{page.title}}

通常，对于大部分人来说，对于`display:none`和`visibility:hidden`的区别认识仅仅局限于都会让元素隐藏，但是`display:none`隐藏后不占据任何空间，而`visibility:hidden`隐藏后元素的原有空间依然存在。
但这两者的区别可不止这点。

先来看看w3c上对于`display:none`和`visibility:hidden`的定义。

#### display
The display property specifies the type of box used for an element.(display属性指定用于元素的框的类型。)

- none:
This value causes an element to not appear in the document. It has no effect on layout.(此值导致元素不显示在文档中，它对布局没有影响。)


#### visibility
The visibility property specifies whether the boxes generated by an element are rendered.(visibility属性指定是否渲染由元素生成的框。)

- hidden:
The generated box is invisible (fully transparent, nothing is drawn), but still affects layout. Furthermore, descendants of the element will be visible if they have 'visibility: visible'.(生成的框是不可见的（完全透明，没有绘制），但仍然影响布局。 此外，如果元素的后代具有“可见性”，则它的后代将是可见的。)

在`visibility`的`hidden`属性中，已经明确指出当元素的后代具有可见性时，后代的元素是可见的，而不会因为父元素的隐藏而隐藏。

![visibility](https://github.com/mmmaming/angular-tree/blob/master/img/111.png?raw=true)

当父元素设置为`visibility:hidden`时，给子元素增加`visibility:visible`:

![visibility](https://github.com/mmmaming/angular-tree/blob/master/img/222.png?raw=true)

可以看到，子元素并没有因为父元素的隐藏而隐藏。而如果父元素使用`display:none`时，它的所有子元素都会因为父元素的隐藏而销声匿迹。

还有一个重要的点，元素`display: none`时，会引起网页重排。（这里要注意，重绘repaint不一定会引起重排reflow，但重排一定会导致重绘。）
而`visibility: hidden`则不会引起重排，只是重绘。就性能方面来说，`visibility: hidden`性能会更好一点。
（这里推荐一篇文章[前端文摘：深入解析浏览器的幕后工作原理](http://www.cnblogs.com/lhb25/p/how-browsers-work.html)）

综上所述，目前已知的不同点有三个方面。

1. 是否占据空间位置
2. 子元素的隐藏
3. 重排和重绘

使用时要注意两者的区别，以便更好的发挥他们的作用。
